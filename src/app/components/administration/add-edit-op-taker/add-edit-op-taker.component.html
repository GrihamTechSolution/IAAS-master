<div class="content-inner">
    <section class="content">
        <div class="box box-success">
            <div class="box-header">
                <h2 class="box-title">Add/Edit OP Taker</h2> 
            </div>
            <div class="box-body">
                <div class="col-md-12">
                    <div class="nav-tabs-custom">
                        <ul class="nav nav-tabs">
                            <li  class="active"><a href="#account" data-toggle="tab" aria-expanded="false">Account data</a></li>
                            <li *ngIf='user.id'><a href="#opTakerInfo" data-toggle="tab" aria-expanded="false">OP Taker info</a></li>
                            <li *ngIf='user.id'><a href="#opTakerContacts" data-toggle="tab" aria-expanded="false">Contacts</a></li>
                            <li *ngIf='user.id'><a href="#opTakerInternships" data-toggle="tab" aria-expanded="false">Internships</a></li>
                        </ul>

                        <div class="tab-content">
                            <div class="tab-pane active" id="account">
                                <div class="row">
                                    <div class="col-md-6 col-sm-12">
                                        <h3 style="color:#00a65a;"></h3>
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="email" [(ngModel)]='user.email' class='form-control' name="email"/>
                                          </div>
                                          <div class="form-group">
                                            <label>Name</label>
                                            <input type="text" [(ngModel)]='user.firstName' class='form-control' name="name"/>
                                          </div>
                                          <div class="form-group">
                                            <label>Country</label>
                                            <ng-select [items]="countries"
                                                  bindLabel="name"
                                                  bindValue="id"
                                                  name="selectedCountryID"
                                                  [(ngModel)]='user.countryID'></ng-select>
                                          </div>
                                          <div class="form-group">
                                            <button class="btn btn-success" (click)='saveAccount()' *ngIf='!edit'>
                                              <i class="fa fa-save"></i>
                                              Save
                                            </button>
                                            <button class="btn btn-success" (click)='initSaveOPTakerInfo()' *ngIf='edit'>
                                              <i class="fa fa-save"></i>
                                              Save
                                            </button>
                                          </div>
                                    </div>
                                    <div class="col-md-6 col-sm-12">
                                        <div class="form-group" *ngIf='user.id'>
                                            <label>Current Password:</label>
                                            <input type="password" class='form-control' name="password" [(ngModel)]='user.password'  />
                                          </div>
                                          <div class="form-group">
                                            <label>New Password:</label>
                                            <input type="password" name="pass" class='form-control' [(ngModel)]='user.newPassword' />
                                          </div>
                                          <div class="form-group">
                                            <label>Confirm Password:</label>
                                            <input type="password" name="confirmPass" class='form-control' [(ngModel)]='user.confirmPassword' />
                                          </div>
                                        
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id='opTakerInfo'>
                                <div class="row">
                                    <div class="col-md-6 col-sm-12">
                                        <div class="form-group">
                                            <label>OPTaker Type</label>
                                            <ng-select [items]="opTakerTypes"
                                                      bindLabel="name"
                                                      bindValue="name"
                                                      name="selectedCountryID"
                                                      [(ngModel)]='opTaker.opTakerType'>
                                          </ng-select>
                                          </div>
                                          <div class="form-group">
                                            <label>Website</label>
                                            <input type="text" [(ngModel)]="opTaker.website" class="form-control" name="website" />
                                          </div>
                                          <div class="form-group">
                                            <label>Region/State</label>
                                            <input type="text" [(ngModel)]='opTaker.region' class="form-control" name="region" />
                                          </div>
                                          <div class="form-group">
                                            <label>Town/City</label>
                                            <input type="text" [(ngModel)]='opTaker.town' class="form-control" name="town" />
                                          </div>
                                          <div class="form-group">
                                            <label>About</label>
                                            <textarea class="form-control" rows="10" [(ngModel)]='opTaker.aboutUs' name="about"></textarea>
                                          </div>
                                          <div class="form-group">
                                            <button class="btn btn-success" (click)='initSaveOPTakerInfo()'>
                                              <i class="fa fa-save"></i>
                                              Save
                                            </button>
                                          </div>
                                    </div>
                                    <div class="col-md-6 col-sm-12">
                                        <div class="form-group">
                                            <label>Upload new photo</label>
                                            <input type='file' name='doc' class="form-control"
                                            ng2FileSelect
                                            [uploader]='uploader' />
                                          </div>
                                          <div class="row">
                                            <h4>Current photo</h4>
                                            <img src="{{uploadImageSource}}/{{opTaker.logo}}" />
                                          </div>
                                        
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id='opTakerContacts'>
                                <div class="row" *ngFor='let contact of contacts'>
                                    <div class="col-md-12"  *ngIf='contact.status != 3'>
                                      <div class="col-md-4">
                                        <label>Name</label>
                                        <input type="text" name="name" [(ngModel)]='contact.name' class="form-control" />
                                      </div>
                                      <div class="col-md-4">
                                        <label>Email</label>
                                        <input type="email" name="email" [(ngModel)]='contact.email' class="form-control"/>
                                      </div>
                                      <div class="col-md-4">
                                        <label>Phone Number</label>
                                        <input type="text" name="phone" [(ngModel)]='contact.phoneNumber' class="form-control"/>
                                      </div>
                                      <div class="col-md-4">
                                        <label>Country</label>
                                        <ng-select [items]="countries"
                                                  bindLabel="name"
                                                  bindValue="id"
                                                  name="selectedCountryID"
                                                  [(ngModel)]='contact.countryID'></ng-select>
                                      </div>
                                      <div class="col-md-4">
                                        <label>Town/City</label>
                                        <input type="text" name="phone" [(ngModel)]='contact.town' class="form-control" />
                                      </div>
                                      <div class="col-md-4">
                                        <label>Remove</label> <br/>
                                        <button class="btn btn-danger" (click)='removeContact(contact.id);'>
                                          <i class="fa fa-trash"></i> &nbsp;
                                          Remove contact
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                  <hr />
                                  <div class="row container">
                                    <button class="btn btn-primary" (click)='addContact()'>
                                      <i class="fa fa-plus"></i>
                                      Add Contact
                                    </button> &nbsp; &nbsp;
                                    <button class="btn btn-success" (click)='saveContacts()'>
                                        <i class="fa fa-save"></i>
                                        Save Contacts
                                      </button>
                                  </div>
                            </div>

                            <div class="tab-pane" id='opTakerInternships'>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box-footer">
                
            </div>
        </div>
    </section>
</div>