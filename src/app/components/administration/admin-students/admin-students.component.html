<section class="content">

    <div class="box box-success">
        <div class="box-header">
          <h2 class="box-title">List of students</h2>
          <br/> <br/>
          <div class="row">
            <div class="col-md-2 col-sm-12">
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" name="name" class="form-control" placeholder="Name" [(ngModel)]='firstName'/>
                </div>
            </div>
            <div class="col-md-2 col-sm-12">
                <div class="form-group">
                    <label>Last name</label>
                    <input type="text" name="lastName" class="form-control" placeholder="Last Name" [(ngModel)]='lastName'/>
                </div>
            </div>
            <div class="col-md-2 col-sm-12">
                <div class="form-group">
                    <label>Country</label>
                    <ng-select [items]="countries"
                                bindLabel="name"
                                bindValue="id"
                                name="filterCountryID"
                                [(ngModel)]='countryID'>
                    </ng-select>
                </div>
            </div>
            <div class="col-md-2 col-sm-12">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" name="email" class="form-control" placeholder="Email" [(ngModel)]='email'/>
                </div>
            </div>
            <div class="col-md-1 col-sm-12">
                <div class="form-group">
                    <label>Search</label>
                    <button class="btn btn-success" (click)='searchStudents()'>
                        <i class="fa fa-search"></i> &nbsp; Search
                    </button>
                </div>
            </div>
            <div class="col-md-2 col-sm-12">
                <div class="form-group">
                    <label>Remove filters</label>
                    <button class="btn btn-danger" (click)='removeFilters()'>
                        <i class="fa fa-close"></i> &nbsp; Remove filters
                    </button>
                </div>
            </div>
          </div>
        </div>
        <div class="box-body">
            <table class="table table-striped table-bordered" [mfData]="filteredStudents" #mf="mfDataTable" [mfRowsOnPage]="5">
                <thead>
                <tr>
                    <th style="width: 10%">
                        <mfDefaultSorter by="user.firstName">Name</mfDefaultSorter>
                    </th>
                    <th style="width: 10%">
                        <mfDefaultSorter by="user.lastName">Surname</mfDefaultSorter>
                    </th>
                    <th style="width: 10%">
                        <mfDefaultSorter by="user.country">Country</mfDefaultSorter>
                    </th>
                    <th style="width: 10%">
                        <mfDefaultSorter by="email">Email</mfDefaultSorter>
                    </th>
                    <th style="width: 10%">
                        <mfDefaultSorter>Action</mfDefaultSorter>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let item of mf.data">
                    <td>{{item.user.firstName}}</td>
                    <td>{{item.user.lastName}}</td>
                    <td>{{item.user.country ? item.user.country.name : item.user.countryName}}</td>
                    <td>{{item.user.email}}</td>
                    <td>
                      <a class="btn btn-success" routerLink='/administration/student/{{item.id}}'>
                        <i class="fa fa-search"></i>
                        View profile
                      </a> 
                    </td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="5">
                        <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>
        <div class="box-footer">

        </div>
    </div>

</section>